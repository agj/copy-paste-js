const when = pred => f => a => pred(a) ? f(a) : a;